<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>queja</title>
</head>
<body>

    <form action="" class="contendioFormulario" id="claimForm" enctype="multipart/form-data">

        <!-- datos de validación  -->
        <div class="contenedorPreguntas" id="datosValidacionAbonado">

            <details id="contenedorDatosValidacionAbonado">
                <summary>Datos de validación</summary>
                    <div class="datosPersonales" id="formulario_personal">
                        <div class="contenedorDatosPersonales">
        
                            <div class="datos">
                                <label for="nombrePadre">Nombre del Padre</label>
                                <input type="text" id="nombrePadre" placeholder="Nombre del Padre">
                            </div>
                    
                            <div class="datos">
                                <label for="nombreMadre">Nombre del Madre</label>
                                <input type="text" id="nombreMadre" placeholder="Nombre de la Madre">
                            </div>
                    
                            <div class="datos">
                                <label for="lugarNacimiento">Lugar de Nacimiento</label>
                                <input type="text" id="lugarNacimiento" placeholder="Lugar de Nacimiento">
                            </div>
                    
                            <div class="datos">
                                <label for="fechaNacimiento">Fecha de Nacimiento</label>
                                <input type="date" class="fecha" id="fechaNacimiento">
                            </div>
        
                        </div>
                    </div>
        
                    <div class="btnContinuar">
                        <input type="button" id="validarFormularioAbonado" value="Validar">
                    </div>
        
            </details>
                    
        </div>
        
        <div class="contenedorPreguntas" id="datosValidacionUsuario">
                    
            <details id="contenedorDatosValidacionUsuario">
                <summary>Datos de validación</summary>
                    <div class="datosPersonales" id="formulario_personal">
                        <div class="contenedorDatosPersonales">
            
                            <div class="datos">
                                <label for="fechaVencimiento">Fecha de Vencimiento del Recibo</label>
                                <input type="date" class="fecha" class="fecha" id="fechaVencimiento">
                            </div>
            
                            <div class="datos">
                                <label for="montoTarifa">Monto del plan tarifario</label>
                                <input type="text" id="montoTarifa" placeholder="Monto del plan tarifario">
                            </div>
            
                            <div class="datos">
                                <label for="direccionFacturacion">Dirección de Facturación</label>
                                <input type="text" id="direccionFacturacion" placeholder="Dirección">
                            </div>
            
                        </div>
                    </div>
        
                    <div class="btnContinuar">
                        <input type="button" id="validarFormularioUsuario" value="Validar">
                    </div>
        
            </details>
                    
        </div>


        <!-- contenedor de datos personales -->
        <div class="contenedorPreguntas" id="contenidoDatos">
            
            <details id="contenedorDatosPersonalesDetails">

                <summary id="tipoUsers">Datos Personales</summary>
                    
                    <div class="contenedorDatosPersonales">
        
                        <div class="datos">
                            <label for="name">Nombres</label>
                            <input type="text" id="name" name="name" placeholder="Nombre del reclamante" required>
                        </div>
                        <div class="datos">
                            <label for="apellidos">Apellidos</label>
                            <input type="text" id="apellidos" name="apellidos" placeholder="Apellidos del reclamante" required>
                        </div>
                        <div class="datos" id="extra_usuario">
                            <label for="relacion">Especifique su relación con el cliente</label>
                            <input type="text" id="relacion" placeholder="Madre, Padre, Hijo, etc.">
                        </div>
                        <div class="contenedorDatosPersonales" id="extra_representante">
                            <div class="datos">
                                <label for="razonsocial">Razón Social</label>
                                <input type="text" id="razonsocial" placeholder="Razón social">
                            </div>
                            <div class="datos">
                                <label for="datos">Adjuntar de Carta Poder</label>
                                <input type="file" name="cartaPoder" id="cartaPoder" accept=".pdf, .jpg, .jpeg, .png, .doc, .docx">
                            </div>
                        </div>
                        <div class="datos">
                            <label for="numeroContacto">Número de contacto</label>
                            <input type="text" name="numeroContacto" id="numeroContacto" placeholder="Número de contacto" max="9" required>
                        </div>
                        <div class="datos">
                            <label for="tipoDoc">Tipo de Documento</label>
                            <select name="tipoDoc" id="tipoDoc" onchange="tipoDocumento()">
                                <option value="">Selecciona un tipo de documento</option>
                                <option value="DNI">Documento de Identidad (DNI)</option>
                                <option value="RUC">Registro Único de Contribuyentes (RUC)</option>
                                <option value="Pasaporte">Pasaporte</option>
                                <option value="CE">Carnet de Extranjería(CE)</option>
                                <option value="Otro_Documento">Documento Legal de Identidad válido requerido por la Superintendencia Nacional de Migraciones</option>
                            </select>
                        </div>
                        <div class="datos">
                            <label for="numDoc">Número de Documento</label>
                            <input type="text" class="" id="numDoc" placeholder="Número de identidad" max="9" required>
                        </div>
                        <div class="datos">
                            <label for="distritos">Distrito</label>
                            <select name="distritos" id="distritos" onchange="">
                                <option value="">Seleccionar Opción</option>
                                <option value="Ate">Ate</option>
                                <option value="Ancón">Ancón</option>
                                <option value="Carabayllo">Carabayllo</option>
                                <option value="Chaclacayo">Chaclacayo</option>
                                <option value="Comas">Comas</option>
                                <option value="El Agustino">El Agustino</option>
                                <option value="Ica">Ica</option>
                                <option value="Independencia">Independencia</option>
                                <option value="La Victoria">La Victoria</option>
                                <option value="Los Olivos">Los Olivos</option>
                                <option value="Puente Piedra">Puente Piedra</option>
                                <option value="Rimac">Rimac</option>
                                <option value="San Juan de Lurigancho">San Juan de Lurigancho</option>
                                <option value="San Martín de Porres">San Martín de Porres</option>
                                <option value="Santa Rosa">Santa Rosa</option>
                            </select>
                        </div>
                        <div class="datos">
                            <label for="direccion">Dirección</label>
                            <input type="text" class="" name="datosPersonales" id="direccion" placeholder="Dirección" required>
                        </div>
                        <div class="datos">
                            <label for="correo">Correo electrónico</label>
                            <input type="email" class="" name="datosPersonales" id="correo" placeholder="ejemplo@gmail.com" required>
                        </div>
                        
                    </div>

                    <div class="datos_solo" id="escojerCorreo">
                        <p>Autoriza ser notificado por correo electrónico </p>
                        <div class="opcionCorreo">
                            <div class="oCorreo">
                                <label for="autoriza">Si</label>
                                <input type="radio" name="autorizacion" id="autorizaSi" value="True">
                            </div>
                            <div class="oCorreo">
                                <label for="autoriza">No</label>
                                <input type="radio" name="autorizacion" id="autorizaNo" value="False">
                            </div>
                        </div>
                    </div>
                    
                    <div class="btnContinuar">
                        <input type="button" id="validarFormularioContinuar" value="Continuar">
                    </div>
                    
            </details>
                        
        </div>

        <div class="cajasContenedorSeleccionesMultiples" id="seleccionarQueja">
            
            <details class="seleccionarOpcciones" id="seleccionUnicoQueja">
                
                    <summary>Motivo de la Queja</summary>
            
                    <div class="materiaReclamableUnica">
                        <label for="quejasOpciones">Objeto de la queja </label>
                        <select name="materiaReclamable" id="quejasOpciones" onchange="quejas()">seleccionarQueja
                            <option value="" selected>Seleccionar Opción</option>
                            <option value="quejaUno">Falta de respuesta al reclamo (aplicación de silencio administrativo positivo)</option>
                            <option value="quejaDos">No se permitió la presentación de reclamo, recurso de apelación o queja o no se otorgó el código respectivo</option>
                            <option value="quejaTres">Suspensión del servicio pese a reclamo en trámite</option>
                            <option value="quejaCuatro">Requerimiento de pago del monto reclamado</option>
                            <option value="quejaCinco">No se permitió el pago a cuenta del monto no reclamado</option>
                            <option value="quejaSeis">Otros defectos de tramitación</option>
                        </select>
                    </div>
            
            </details>
            
        </div>

        <div class="contenedorPadre" id="datosQueja">
            
            <div class="contenedorHijo">
            
                <details class="seleccionarOpcciones" id="detailsQuejaDs">
            
                    <summary>Datos del Servicio</summary>
                
                    <div class="columnTwo">
                
                        <div class="datos">
                            <label for="empresaOperadoraQueja">Empresa Operadora</label>
                            <select name="" id="empresaOperadoraQueja">
                                <option value="">Seleccionar Opción</option>
                                <option value="FiberPro - PYD Telecom S.R.L">FiberPro - PYD Telecom S.R.L</option>
                            </select>
                        </div>
                
                        <div class="datos">
                            <label for="servicioObjetoQueja" >Servicio objeto de la queja </label>
                            <select name="" id="servicioObjetoQueja">
                                <option value="Internet Fijo">Internet Fijo</option>
                            </select>
                        </div>
                
                        <div class="datos">
                            <label for="numServicioQueja" >Número del servicio reclamado o del contratado del abonado </label>
                            <input type="text" id="numServicioQueja">
                        </div>
                
                        <div class="datos">
                            <label for="codigoNumeroQueja" >Código o número de reclamo </label>
                            <input type="text" id="codigoNumeroQueja">
                        </div>
                
                    </div>
            
                    <div class="btnContinuar">
                        <input type="button" value="Continuar" onclick="pestañaQueja()">
                    </div>
                
                </details>
                
                <details class="seleccionarOpcciones" id="quejaRespuestasSelecciones">
                
                    <summary id="tituloQueja">Detalles adicionales </summary>
                
                        <div class="contenedorDatosPersonales" id="quejaPreguntaUno">
                            <label for="fechaPresentacionQueja">Fecha de presentación del reclamo</label>
                            <input type="date" class="fecha" name="fechaPresentacionQueja" id="fechaPresentacionQueja">
                        </div>
                
                        <div class="contenedorDatosPersonales" id="quejaPreguntaDos">
                
                            <div class="columnTwo" id="apelacionCuatroSi">
                
                                <div class="datos">
                                    <label for="negativaQueja">Negativa Relacionada a</label>
                                    <select name="" id="negativaQueja">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="Presentación del reclamo">Presentación del reclamo</option>
                                        <option value="Presentación del recurso de apelacion">Presentación del recurso de apelacion</option>
                                        <option value="Presentación de la queja">Presentación de la queja</option>
                                        <option value="Brindar código de reclamo">Brindar código de reclamo</option>
                                        <option value="Brindar código de recursos de apelacion">Brindar código de recursos de apelacion</option>
                                        <option value="Brindar código de queja">Brindar código de queja</option>
                                    </select>
                                </div>
                
                                <div class="datos">
                                    <label for="fechaNegativaQueja">Fecha de la Negativa</label>
                                    <input type="date" class="fecha" name="fechaNegativaQueja" id="fechaNegativaQueja">
                                </div>
                
                                <div class="datos">
                                    <label for="canalPresentacion">Canal donde se intento presentar el reclamo, apelacion o queja</label>
                                    <select name="" id="canalPresentacion" onchange="canal()">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="Telefónico">Telefónico</option>
                                        <option value="Oficina">Oficina</option>
                                        <option value="Web">Web</option>
                                        <option value="Aplicativo">Aplicativo</option>
                                        <option value="otro">Otro(especificar)</option>
                                    </select>
                                </div>
                
                                <div class="datos" id="canalQueja">
                                    <label for="especificarCanalQuejaDos">Especificar canal</label>
                                    <input type="text" id="especificarCanalQuejaDos">
                                </div>
                
                                <div class="datos">
                                    <label for="adjuntaPrueba">Se adjunta medios probatorios (pantalla u otra prueba)</label>
                                    <select name="adjuntaPrueba" id="adjuntaPrueba" onchange="adjuntaPruebaQueja()">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="si">Si</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                
                                <div class="datos" id="pruebaQuejas">
                                    <label for="mediosProbatoriosQuejas">Se adjunta medio probatorio</label>
                                    <input type="file" name="medioProbatorioNegativa" id="medioProbatorioNegativa">
                                </div>
                
                            </div>
                
                        </div>
                
                        <div class="contenedorDatosPersonales" id="quejaPreguntaTres">
                            <label for="fechaSuspendioServicioQueja">Fecha en la cual se habría suspendido el servicio</label>
                            <input type="date" class="fecha" name="fechaSuspendioServicioQueja" id="fechaSuspendioServicioQueja">
                        </div>
                
                        <div class="contenedorDatosPersonales" id="quejaPreguntaCuatro">
                
                            <div class="columnTwo">
                
                                <div class="datos">
                                    <label for="MediosCobranzasQuejas">Medio de cobranza </label>
                                    <select name="MediosCobranzasQuejas" id="MediosCobranzasQuejas">
                                        <option value="" selected>Seleccionar Opción</option>
                                        <option value="Carta">Carta</option>
                                        <option value="Recibo">Recibo</option>
                                        <option value="Telefónico">Telefónico</option>
                                    </select>
                                </div>
                
                                <div class="datos">
                                    <label for="constanciaPagoQueja">Se adjunta documento donde conste el requerimiento de pago</label>
                                    <select name="constanciaPagoQueja" id="constanciaPagoQueja" onchange="constanciaPago()">
                                        <option value="" selected>Seleccionar Opción</option>
                                        <option value="si">Si</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                
                            </div>
                
                            <div class="datos" id="constanciaPago">
                                <label for="constanciaPagoMedioCobranza">Se adjunta constancia de pago</label>
                                <input type="file" name="constanciaPagoMedioCobranza" id="constanciaPagoMedioCobranza">
                            </div>
                
                
                        </div>
                
                        <div class="contenedorDatosPersonales" id="quejaPreguntaCinco">
                
                            <div class="columnTwo">
                
                                <div class="datos">
                                    <label for="pagoCuentaQueja">Lugar donde no se permitió el pago a cuenta</label>
                                    <select name="pagoCuentaQueja" id="pagoCuentaQueja" onchange="pagoCuenta()">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="Oficina del banco">Oficina del banco</option>
                                        <option value="Agente de Banco">Agente de Banco</option>
                                        <option value="Aplicativo del Operador">Aplicativo del Operador</option>
                                        <option value="Pagina Web del Banco">Pagina Web del Banco</option>
                                        <option value="otros">Otros</option>
                                    </select>
                                </div>
                
                                <div class="datos" id="dpagocuenta">
                                    <label for="espeficiarQueja">Especificar</label>
                                    <input type="text" name="" id="espeficiarQueja">
                                </div>
                
                                <div class="datos">
                                    <label for="capturaQuejaCinco">Se adjunta captura de pantalla u otra prueba</label>
                                    <select name="capturaQuejaCinco" id="capturaQuejaCinco" onchange="capturaQueja()">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="si">Si</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                
                                <div class="datos" id="mpQueja">
                                    <label for="mediosProbatoriosQuejas">Medio probatorio</label>
                                    <input type="file" name="" id="medioProbatoriopgQueja">
                                </div>
                
                            </div>
                
                        </div>
                
                        <div class="contenedorDatosPersonales" id="quejaPreguntaSeis">
                
                            <div class="columnTwo">
                
                                <div class="datos">
                                    <label for="dtramitacion">Se adjunta documentos de prueba</label>
                                    <select name="dtramitacion" id="dtramitacion" onchange="defectos()">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="si">Si</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                
                                <div class="datos" id="dptramitacion">
                                    <label for="mediosProbatiosQuejaSeis">Medio probatorio</label>
                                    <input type="file" name="" id="medioProbatoriosTramitacion">
                                </div>
                
                            </div>
                
                        </div>
                
                        <div class="contenedorDatosPersonales">
                            <input type="button" value="Continuar" id="continuarFormularioQueja">
                        </div>
        
                </details>
            
            </div>
            
        </div>

        <!-- queja -->
        <div class="informacionExtra" id="informacionExtraQueja">
            <div class="detalleInformacionExtra">
                <details class="seleccionarOpcciones" id="detailIExtraQueja">
                    <summary>Descargo de cliente</summary>

                    <div class="contenedorDatosPersonales">
                        <label for="informacionNecesariaQueja">Información Necesaria</label>
                        <textarea name="" id="informacionNecesariaQueja" maxlength="50"></textarea>
                    </div>
                    
                    <div class="contenedorDatosPersonales">
                        <label for="descripcionProblemaQueja">Descripción del problema *</label>
                        <textarea name="" id="descripcionProblemaQueja" maxlength="300"></textarea>
                    </div>

                </details>
            </div>
        </div>

        <button type="submit">Enviar</button>

    </form>

    <script>

        // Función para convertir un archivo a base64
        function convertFileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onloadend = function () {
                    resolve(reader.result.split(',')[1]);  // Devuelve solo la parte base64
                };
                reader.onerror = function (error) {
                    reject(error);
                };
                reader.readAsDataURL(file);
            });
        }

        // Función para enviar el formulario como JSON
        document.getElementById("claimForm").addEventListener("submit", async function(event) {
            event.preventDefault();  // Prevenir el envío normal del formulario

            // usuarios
            // Variables para almacenar el tipo de usuario
            const tipoUsuarioSeleccionado = "";

            
            // datos de validacion abonado
            const nombrePadre = document.getElementById('nombrePadre').value.trim();
            const nombreMadre = document.getElementById('nombreMadre').value.trim();
            const lugarNacimiento = document.getElementById('lugarNacimiento').value.trim();
            const fechaNacimiento = document.getElementById('fechaNacimiento').value;
            // datos de validacion usuario
            const fechaVencimiento = document.getElementById('fechaVencimiento').value;
            const montoTarifa = document.getElementById('montoTarifa').value.trim();
            const direccionFacturacion = document.getElementById('direccionFacturacion').value.trim();
            // datos personales
            const nombres = document.getElementById('name').value.trim();
            const apellidos = document.getElementById('apellidos').value.trim();
            const relacion = document.getElementById('relacion').value.trim();
            const razonSocial = document.getElementById('razonsocial').value.trim();
            const numeroContacto = document.getElementById('numeroContacto').value.trim();
            const tipoDoc = document.getElementById('tipoDoc').value.trim();
            const numDoc = document.getElementById('numDoc').value.trim();
            const distritos = document.getElementById('distritos').value.trim();
            const direccion = document.getElementById('direccion').value.trim();
            const correo = document.getElementById('correo').value.trim();
                // Obtener el valor de la autorización (True o False)
            const autoriza = document.querySelector('input[name="autorizacion"]:checked') ? 
                            document.querySelector('input[name="autorizacion"]:checked').value : 
                            "False"; // Valor predeterminado si no se selecciona nada

            
            const fileInput = document.getElementById('cartaPoder');

            //const documentoSolicitudX=vinculoSolicitudSX.files[0];
            
            const file = fileInput.files[0];  // Archivo de carta de poder

            let fileBase64 = "";
            // Solo convertimos a base64 si se selecciona un archivo
            if (file) {
                try {
                    fileBase64 = await convertFileToBase64(file);
                } catch (error) {
                    console.error('Error al convertir archivo de carta de poder:', error);
                }
            }

            // datos para envio de queja

            // Variables específicas de queja
            const selectQueja = document.getElementById("quejasOpciones").options[document.getElementById("quejasOpciones").selectedIndex].text;
            // datos de servicio
            const empresaOperadoraQueja = document.getElementById("empresaOperadoraQueja").value;
            const servicioObjetoQueja = document.getElementById("servicioObjetoQueja").value;
            const numServicioQueja = document.getElementById("numServicioQueja").value;
            const codigoNumeroQueja = document.getElementById("codigoNumeroQueja").value;
            // preguntas especificas
            const fechaPresentacionQueja = document.getElementById("fechaPresentacionQueja").value;
            const negativaQueja = document.getElementById("negativaQueja").value;
            const fechaNegativaQueja = document.getElementById("fechaNegativaQueja").value;
            const canalPresentacion = document.getElementById("canalPresentacion").value;
            const especificarCanalQuejaDos = document.getElementById("especificarCanalQuejaDos").value;
            const adjuntaPrueba = document.getElementById("adjuntaPrueba").value;
            const fechaSuspendioServicioQueja = document.getElementById("fechaSuspendioServicioQueja").value;
            const MediosCobranzasQuejas = document.getElementById("MediosCobranzasQuejas").value;
            const constanciaPagoQueja = document.getElementById("constanciaPagoQueja").value;
            const pagoCuentaQueja = document.getElementById("pagoCuentaQueja").value;
            const espeficiarQueja = document.getElementById("espeficiarQueja").value;
            const dtramitacion = document.getElementById("dtramitacion").value;
            // descargo del cliente
            const informacionNecesariaQueja = document.getElementById("informacionNecesariaQueja").value;
            const descripcionProblemaQueja = document.getElementById("descripcionProblemaQueja").value;

            // archivos de queja
             // Variables para los archivos de queja
            const medioProbatorioNegativa = document.getElementById("medioProbatorioNegativa");
            const constanciaPagoMedioCobranza = document.getElementById("constanciaPagoMedioCobranza");
            const medioProbatoriopgQueja = document.getElementById("medioProbatoriopgQueja");
            const medioProbatoriosTramitacion = document.getElementById("medioProbatoriosTramitacion");

            // Variables para los archivos de queja
            const mdprobatoriosQueja = medioProbatorioNegativa.files[0];
            const cstMedioCobranza = constanciaPagoMedioCobranza.files[0];
            const mdProbatorioQueja = medioProbatoriopgQueja.files[0];
            const mdProbatorioTramitacion = medioProbatoriosTramitacion.files[0];

            let mdQuejaUno = "";
            let mdQuejaDos = "";
            let mdQuejaTres = "";
            let mdQuejaCuatro = "";

            if (mdprobatoriosQueja) {
                try {
                    mdQuejaUno = await convertFileToBase64(mdprobatoriosQueja);
                } catch (error) {
                    console.error('Error al convertir archivo de carta de poder:', error);
                }
            }

            if (cstMedioCobranza) {
                try {
                    mdQuejaDos = await convertFileToBase64(cstMedioCobranza);
                } catch (error) {
                    console.error('Error al convertir archivo de carta de poder:', error);
                }
            }

            if (mdProbatorioQueja) {
                try {
                    mdQuejaTres = await convertFileToBase64(mdProbatorioQueja);
                } catch (error) {
                    console.error('Error al convertir archivo de carta de poder:', error);
                }
            }

            if (mdProbatorioTramitacion) {
                try {
                    mdQuejaCuatro = await convertFileToBase64(mdProbatorioTramitacion);
                } catch (error) {
                    console.error('Error al convertir archivo de carta de poder:', error);
                }
            }


            const data = {

                // //
                tipoUsuarioSeleccionado,
                //tipoticket,
                // diagnostico,
                // datos de validacion
                nombrePadre,
                nombreMadre,
                lugarNacimiento,
                fechaNacimiento,
                //datos de validacion
                fechaVencimiento,
                montoTarifa,
                direccionFacturacion,

                cartaPoder: fileBase64,  // Será una cadena vacía si no se cargó un archivo
                nombre: nombres,
                apellidos,
                relacion,
                razonSocial,
                numeroContacto,
                tipoDoc,
                numDoc,
                distritos,
                direccion,
                correo,
                autoriza:autoriza,

                // preguntas de queja

                // //selecion
                selectQueja,
                //
                //tipoUsuarioSeleccionado,
                //quejas datos extra
                empresaOperadoraQueja,
                servicioObjetoQueja,
                numServicioQueja,
                codigoNumeroQueja,
                // quejas preguntas
                //fechaPresentacionQueja,
                negativaQueja,
                //fechaNegativaQueja,
                canalPresentacion,
                especificarCanalQuejaDos,
                adjuntaPrueba,
                //fechaSuspendioServicioQueja,
                MediosCobranzasQuejas,
                constanciaPagoQueja,
                pagoCuentaQueja,
                espeficiarQueja,
                //capturaQuejaCinco,
                dtramitacion,
                medioProbatorioNegativa:mdQuejaUno,
                constanciaPagoMedioCobranza:mdQuejaDos,
                medioProbatoriopgQueja:mdQuejaTres,
                medioProbatoriosTramitacion:mdQuejaCuatro,

                // descargo del cliente
                informacionNecesariaQueja,  
                descripcionProblemaQueja,
                
            };

            // Enviar la solicitud POST a la API Flask
            try {
                const response = await fetch('https://pruebados-f80ed8a83d18.herokuapp.com/api/reclamos/queja', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                const responseData = await response.json();
                const messageDiv = document.getElementById('message');

                if (responseData.error) {
                    messageDiv.innerHTML = `<span class="error">${responseData.error}</span>`;
                } else {
                    messageDiv.innerHTML = `<span class="success"> Número: ${responseData.ticket_id} </span>`;
                    ocultarBotonesYRedirigir();    
                    const btns=document.getElementById("btnEnviarFormulario");
                    btns.style.display="none";
                }
            } catch (error) {
                const messageDiv = document.getElementById('message');
                messageDiv.innerHTML = `<span class="error">Hubo un problema al enviar la solicitud: ${error.message}</span>`;
            }
        })

    </script>
    
</body>
</html>